---
layout: post
title: 21.10.10_TIL
gh-repo: Gilbert9172
gh-badge: [star, fork, follow]
comments: true
---

# ğŸ“‘Today I Learn (2021.10.10)

<br>

## **Django**

<br>

##  **ğŸ“Œ ì˜¤ëŠ˜ ë°°ìš°ê³  ì •ë¦¬í•œ ëª©ì°¨**
ï¼‘. One To One Field
ï¼’. Many To Many

<br>

<br>

## ğŸ” ***O2Oì—ì„œì˜ related_name***
ForeignKey(unique=True)ì™€ ìœ ì‚¬í•˜ì§€ë§Œ, reverse ì°¨ì´

reverse ì ‘ê·¼ ì‹œì˜ ì†ì„±ëª…ì€ "ëª¨ë¸ëª…ì†Œë¬¸ì"ì´ë‹¤.
```python
from django.conf import settings
from django.db import models

class Profile(models.Model):
    author = models.OneToOneField(
                                    settings.AUTH_USER_MODEL,
                                    on_delete=models.CASCADE
                                    )

>>> profile.author
>>> user.profile
```
![image](https://user-images.githubusercontent.com/83274792/136695336-c1da2060-5961-4f6d-bbe2-d0ea40f23ad3.png)


gilbertì— ëŒ€í•´ì„œ í”„ë¡œí•„ì„ í•˜ë‚˜ ë” ë“±ë¡í•˜ë ¤ê³  í•˜ë©´ ìœ„ì™€ ê°™ì´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

---

<br>

<br>

## ğŸ” ***Many To Many***
M : N ê´€ê³„ì—ì„œ ì–´ëŠ ìª½ì´ë¼ë„ í•„ë“œ ì§€ì •ì´ ê°€ëŠ¥í•˜ë‹¤.
```python
class Post(models.Model):
    tag_set = models.ManyToManyField('Tag', blank=True)

class Tag(models.Model):
    name = models.CharField(max_length=50, unique=True)
```
blank=True ì•ˆ í•  ê²½ìš°, ìœ íš¨ì„± ê²€ì‚¬ì—ì„œ tagê°€ ìµœì†Œ 1ê°œ ì´ìƒì´ ì—†ìœ¼ë©´ 

ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•œë‹¤. ì™œëƒë©´ íƒœí¬ê°€ ì—†ì–´ë„ í¬ìŠ¤íŒ…í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

ì‚¬ì‹¤ ManyToManyFieldë¥¼ Tag í•„ë“œì— ì„ ì–¸í•´ë„ ëœë‹¤. í•˜ì§€ë§Œ Postì— tagê°€ 

ì—¬ëŸ¬ê°œ ìˆê¸° ë•Œë¬¸ì—, tagë¥¼ í™œìš©í•˜ëŠ” ìª½ì— ManyToManyFieldë¥¼ ì„ ì–¸í•˜ëŠ”ê²Œ

ì¢‹ë‹¤. ë˜í•œ M2M ê´€ê³„ì—ì„œëŠ” ë‘ ëª¨ë¸ ì‚¬ì´ì— ì¤‘ê°„ ëª¨ë¸ì´ ìƒì„±ëœë‹¤.

![image](https://user-images.githubusercontent.com/83274792/136697394-36e284a6-d778-43f5-8396-2e0e09abcccc.png)

---

<br>

<br>

### â—† ***Many To Manyì—ì„œ reverse_name***
```shell
from instagram.models import Post, Tag

new = Post.objects.get(pk=1)
# ì¶œë ¥: <Post: ì²«ë²ˆì§¸ í¬ìŠ¤íŒ…>


# ì—¬ê¸°ì„œ tag_setì€ ëª¨ë¸ì—ì„œ ì§€ì •í•œ í•„ë“œ
new.tag_set.all()
# ì¶œë ¥: <QuerySet [<Tag: íŒŒì´ì¬>, <Tag: ì¥ê³ >]>


taggy = Tag.objects.get(name ="íŒŒì´ì¬")
# ì¶œë ¥: <Tag: íŒŒì´ì¬>


taggy.post_set.all()
# ì¶œë ¥: íŒŒì´ì¬ íƒœê·¸ê°€ í¬í•¨ëœ ëª¨ë“  í¬ìŠ¤íŒ… 
```
---