# ğŸ“‘Today I Learn (2021.10.07)

<br>

## **Django**

<br>

##  **ğŸ“Œ ì˜¤ëŠ˜ ê³µë¶€í•˜ê³  ì •ë¦¬í•œ ëª©ì°¨**
ï¼‘. instagrma post_delete êµ¬í˜„

<br>

<br>

## ğŸ” ***post_delete***
ì˜¤ëŠ˜ì€ instagra í´ë¡  ì½”ë”©ì—ì„œ êµ¬í˜„í•˜ì§€ ì•Šì•˜ë˜ ê¸°ëŠ¥ì¸ 'í¬ìŠ¤íŒ… ì‚­ì œ'ë¥¼

êµ¬í˜„í•´ë´¤ë‹¤. ì´ ì„¸ë²ˆì˜ ì‹œë„ ëì— ì„±ê³µí–ˆë‹¤.

<br>

#### **1) post_delete.ver1**

<ë¬¸ì œì >

ëª¨ë“  ì‚¬ìš©ìê°€ ì„œë¡œì˜ í¬ìŠ¤íŒ…ì„ ì‚­ì œí•˜ëŠ” í˜„ìƒ ë°œìƒ

<ì¬ë„ì „>

ë‚´ê°€ ì˜¬ë¦° í¬ìŠ¤íŒ…ë§Œ ì‚­ì œ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ê¸°
```python 
@login_required
def post_delete(request,pk):
    post = get_object_or_404(Post,pk=pk)
    post.delet()
    return redirect('instagram:index')
```
---

<br>

#### **2) post_delete.ver2**

<ë¬¸ì œì >

íƒ€ ìœ ì €ê°€ ë‚˜ì˜ í¬ìŠ¤íŒ…ì€ ì‚­ì œ ëª»í•˜ê²ŒëŠ” ì„±ê³µ. 

í•˜ì§€ë§Œ ë‚˜ ì¡°ì°¨ ë‚˜ì˜ í¬ìŠ¤íŒ…ì„ ì‚­ì œ ëª»í•˜ëŠ” í˜„ìƒ ë°œìƒ

<ì¬ë„ì „>

ë‚´ê°€ ì˜¬ë¦°ê±´ ì‚­ì œí•  ìˆ˜ ìˆê²Œ ë§Œë“¤ê¸°

```python
@login_required
def post_delete(request,pk):
    post = get_object_or_404(Post,pk=pk)
    if request.user != common.AUTH_USER_MODEL:
        messages.warning(request,"ì‚­ì œ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.")
        return redirect('/')
    else:
        post.delete()
        messages.success(request,"í¬ìŠ¤íŒ…ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.")
        return redirect("instagram:index")
```
---

<br>

#### **3) post_delete.ver3**

ìš”ì²­í•œ userì˜ idë²ˆí˜¸ì™€ postë¥¼ ì‘ì„±í•œ ì‘ì„±ìì˜ idë²ˆí˜¸ê°€ ë‹¤ë¥¼ ë•Œ

ë¼ëŠ” ì¡°ê±´ì„ ì¶”ê°€í•´ì£¼ì—ˆë”ë‹ˆ ë“œë””ì–´ ì„±ê³µí–ˆë‹¤ â—â—â—
```python
@login_required
def post_delete(request,pk):
    post = get_object_or_404(Post,pk=pk)
    if request.user.id != post.author.id:
        messages.warning(request,"ì‚­ì œ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.")
        return redirect('/')
    else:
        post.delete()
        messages.success(request,"í¬ìŠ¤íŒ…ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.")
        return redirect("instagram:index")
```
---

<br>

<br>

## ğŸ“ŒSummary
ì˜¤ëŠ˜ì€ í´ë¡ ì½”ë”©ì—ì„œëŠ” ë‹¤ë£¨ì§€ ì•Šì•˜ë˜ 'í¬ìŠ¤íŠ¸ ì‚­ì œ'ë¥¼ êµ¬í˜„í•´ë´¤ë‹¤.

ì²˜ìŒì— ì‘ì„±ìê°€ ë§ëŠ”ì§€ ì•„ë‹Œì§€ì— ëŒ€í•œ ifì¡°ê±´ë¬¸ì„ í•´ê²°í•˜ëŠ”ë° ë¬¸ì œê°€ 

ë§ì•˜ë‹¤. ê·¸ë˜ì„œ python shellì„ ì ê·¹ í™œìš©í•˜ì˜€ê³ , ê²°ê³¼ëŠ” ì„±ê³µì ì´ì˜€ë‹¤.

ì—„ì²­ ê°„ë‹¨í•œ êµ¬í˜„ì´ì§€ë§Œ ëˆ„êµ°ê°€ë¥¼ ë”°ë¼í•˜ì§€ ì•Šê³  ë‚´ê°€ <span style="color:red">**ì§ì ‘**</span> êµ¬í˜„í•œ ê²ƒì€ 

ì²˜ìŒì´ì˜€ê¸° ë•Œë¬¸ì— ìì‹ ê°ì„ ë§ì´ ì–»ì—ˆë‹¤. 

Djangoê°€ ì ì  ë” ì¬ë°Œë‹¤.ğŸ˜€

---